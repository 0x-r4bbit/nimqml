<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>nimqml</title>
<style type="text/css" >
/*
Stylesheet for use with Docutils/rst2html.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.

Modified from Chad Skeeters' rst2html-style
https://bitbucket.org/cskeeters/rst2html-style/

Modified by Boyd Greenfield and narimiran
*/

html {
  font-size: 100%;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%; }

body {
  font-family: "Lato", "Helvetica Neue", "HelveticaNeue", Helvetica, Arial, sans-serif;
  font-weight: 400;
  font-size: 1.125em;
  line-height: 1.5;
  color: #222;
  background-color: #FCFCFC; }

/* Skeleton grid */
.container {
  position: relative;
  width: 100%;
  max-width: 1050px;
  margin: 0 auto;
  padding: 0;
  box-sizing: border-box; }

.column,
.columns {
  width: 100%;
  float: left;
  box-sizing: border-box;
  margin-left: 1%;
}

.column:first-child,
.columns:first-child {
  margin-left: 0; }

.three.columns {
  width: 19%; }

.nine.columns {
  width: 80.0%; }

.twelve.columns {
  width: 100%;
  margin-left: 0; }

@media screen and (max-width: 860px) {
  .three.columns {
    display: none;
  }
  .nine.columns {
    width: 98.0%;
  }
  body {
    font-size: 1em;
    line-height: 1.35;
  }
}

cite {
  font-style: italic !important; }


/* Nim search input */
div#searchInputDiv {
  margin-bottom: 1em;
}
input#searchInput {
  width: 80%;
}

/*
 * Some custom formatting for input forms.
 * This also fixes input form colors on Firefox with a dark system theme on Linux.
 */
input {
  -moz-appearance: none;
  color: #333;
  background-color: #f8f8f8;
  border: 1px solid #aaa;
  font-family: "Lato", "Helvetica Neue", "HelveticaNeue", Helvetica, Arial, sans-serif;
  font-size: 0.9em;
  padding: 6px;
}
input:focus {
  border: 1px solid #1fa0eb;
  box-shadow: 0 0 2px #1fa0eb;
}

/* Docgen styles */
/* Links */
a {
  color: #07b;
  text-decoration: none;
}

a span.Identifier {
  text-decoration: underline;
  text-decoration-color: #aab;
}

a.reference-toplevel {
  font-weight: bold;
}

a.toc-backref {
  text-decoration: none;
  color: #222; }

a.link-seesrc {
  color: #607c9f;
  font-size: 0.9em;
  font-style: italic; }

a:hover,
a:focus {
  color: #607c9f;
  text-decoration: underline; }

a:hover span.Identifier {
  color: #607c9f;
}


sub,
sup {
  position: relative;
  font-size: 75%;
  line-height: 0;
  vertical-align: baseline; }

sup {
  top: -0.5em; }

sub {
  bottom: -0.25em; }

img {
  width: auto;
  height: auto;
  max-width: 100%;
  vertical-align: middle;
  border: 0;
  -ms-interpolation-mode: bicubic; }

@media print {
  * {
    color: black !important;
    text-shadow: none !important;
    background: transparent !important;
    box-shadow: none !important; }

  a,
  a:visited {
    text-decoration: underline; }

  a[href]:after {
    content: " (" attr(href) ")"; }

  abbr[title]:after {
    content: " (" attr(title) ")"; }

  .ir a:after,
  a[href^="javascript:"]:after,
  a[href^="#"]:after {
    content: ""; }

  pre,
  blockquote {
    border: 1px solid #999;
    page-break-inside: avoid; }

  thead {
    display: table-header-group; }

  tr,
  img {
    page-break-inside: avoid; }

  img {
    max-width: 100% !important; }

  @page {
    margin: 0.5cm; }

  h1 {
    page-break-before: always; }

  h1.title {
    page-break-before: avoid; }

  p,
  h2,
  h3 {
    orphans: 3;
    widows: 3; }

  h2,
  h3 {
    page-break-after: avoid; }
}


p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

small {
  font-size: 85%; }

strong {
  font-weight: 600;
  font-size: 0.95em;
  color: #3c3c3c;
}

em {
  font-style: italic; }

h1 {
  font-size: 1.8em;
  font-weight: 400;
  padding-bottom: .25em;
  border-bottom: 1px solid #aaa;
  margin-top: 2.5em;
  margin-bottom: 1em;
  line-height: 1.2em; }

h1.title {
  padding-bottom: 1em;
  border-bottom: 0px;
  font-size: 2.5em;
  text-align: center;
  font-weight: 900;
  margin-top: 0.75em;
  margin-bottom: 0em;
}

h2 {
  font-size: 1.3em;
  margin-top: 2em; }

h2.subtitle {
  text-align: center; }

h3 {
  font-size: 1.125em;
  font-style: italic;
  margin-top: 1.5em; }

h4 {
  font-size: 1.125em;
  margin-top: 1em; }

h5 {
  font-size: 1.125em;
  margin-top: 0.75em; }

h6 {
  font-size: 1.1em; }


ul,
ol {
  padding: 0;
  margin-top: 0.5em;
  margin-left: 0.75em; }

ul ul,
ul ol,
ol ol,
ol ul {
  margin-bottom: 0;
  margin-left: 1.25em; }

li {
    list-style-type: circle;
}

ul.simple-boot li {
    list-style-type: none;
    margin-left: 0em;
    margin-bottom: 0.5em;
}

ol.simple > li, ul.simple > li {
  margin-bottom: 0.25em;
  margin-left: 0.4em }

ul.simple.simple-toc > li {
    margin-top: 1em;
}

ul.simple-toc {
  list-style: none;
  font-size: 0.9em;
  margin-left: -0.3em;
  margin-top: 1em; }

ul.simple-toc > li {
    list-style-type: none;
}

ul.simple-toc-section {
  list-style-type: circle;
  margin-left: 1em;
  color: #6c9aae; }


ol.arabic {
  list-style: decimal; }

ol.loweralpha {
  list-style: lower-alpha; }

ol.upperalpha {
  list-style: upper-alpha; }

ol.lowerroman {
  list-style: lower-roman; }

ol.upperroman {
  list-style: upper-roman; }

ul.auto-toc {
  list-style-type: none; }


dl {
  margin-bottom: 1.5em; }

dt {
  margin-bottom: -0.5em;
  margin-left: 0.0em; }

dd {
  margin-left: 2.0em;
  margin-bottom: 3.0em;
  margin-top: 0.5em; }


hr {
  margin: 2em 0;
  border: 0;
  border-top: 1px solid #aaa; }

blockquote {
  font-size: 0.9em;
  font-style: italic;
  padding-left: 0.5em;
  margin-left: 0;
  border-left: 5px solid #bbc;
}

.pre {
  font-family: "Source Code Pro", Monaco, Menlo, Consolas, "Courier New", monospace;
  font-weight: 500;
  font-size: 0.85em;
  background-color: #f0f3ff;
  padding-left: 3px;
  padding-right: 3px;
  border-radius: 4px;
}

pre {
  font-family: "Source Code Pro", Monaco, Menlo, Consolas, "Courier New", monospace;
  color: #222;
  font-weight: 500;
  display: inline-block;
  box-sizing: border-box;
  min-width: 100%;
  padding: 0.5em;
  margin-top: 0.5em;
  margin-bottom: 0.5em;
  font-size: 0.85em;
  white-space: pre !important;
  overflow-y: hidden;
  overflow-x: visible;
  background-color: ghostwhite;
  border: 1px solid #dde;
  -webkit-border-radius: 6px;
  -moz-border-radius: 6px;
  border-radius: 6px; }

.pre-scrollable {
  max-height: 340px;
  overflow-y: scroll; }


/* Nim line-numbered tables */
.line-nums-table {
  width: 100%;
  table-layout: fixed; }

table.line-nums-table {
  border-radius: 4px;
  border: 1px solid #cccccc;
  background-color: ghostwhite;
  border-collapse: separate;
  margin-top: 15px;
  margin-bottom: 25px; }

.line-nums-table tbody {
  border: none; }

.line-nums-table td pre {
  border: none;
  background-color: transparent; }

.line-nums-table td.blob-line-nums {
  width: 28px; }

.line-nums-table td.blob-line-nums pre {
  color: #b0b0b0;
  -webkit-filter: opacity(75%);
  text-align: right;
  border-color: transparent;
  background-color: transparent;
  padding-left: 0px;
  margin-left: 0px;
  padding-right: 0px;
  margin-right: 0px; }


table {
  max-width: 100%;
  background-color: transparent;
  margin-top: 0.5em;
  margin-bottom: 1.5em;
  border-collapse: collapse;
  border-color: #ccc;
  border-spacing: 0;
  font-size: 0.9em;
}

table th, table td {
  padding: 0px 0.5em 0px;
}

table th {
  background-color: #e8e8e8;
  font-weight: bold; }

table th.docinfo-name {
    background-color: transparent;
}

table tr:hover {
  background-color: ghostwhite; }


/* rst2html default used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0; }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 !important; }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 !important; }

.last, .with-subtitle {
  margin-bottom: 0 !important; }

.hidden {
  display: none; }

blockquote.epigraph {
  margin: 2em 5em; }

dl.docutils dd {
  margin-bottom: 0.5em; }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden; }


div.figure {
  margin-left: 2em;
  margin-right: 2em; }

div.footer, div.header {
  clear: both;
  text-align: center;
  color: #666;
  font-size: smaller; }

div.footer {
    padding-top: 5em;
}

div.line-block {
  display: block;
  margin-top: 1em;
  margin-bottom: 1em; }

div.line-block div.line-block {
  margin-top: 0;
  margin-bottom: 0;
  margin-left: 1.5em; }

div.topic {
  margin: 2em; }

div.search_results {
  background-color: antiquewhite;
  margin: 3em;
  padding: 1em;
  border: 1px solid #4d4d4d;
}

div#global-links ul {
  margin-left: 0;
  list-style-type: none;
}

div#global-links > simple-boot {
    margin-left: 3em;
}

hr.docutils {
  width: 75%; }

img.align-left, .figure.align-left, object.align-left {
  clear: left;
  float: left;
  margin-right: 1em; }

img.align-right, .figure.align-right, object.align-right {
  clear: right;
  float: right;
  margin-left: 1em; }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto; }

.align-left {
  text-align: left; }

.align-center {
  clear: both;
  text-align: center; }

.align-right {
  text-align: right; }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit; }

p.attribution {
  text-align: right;
  margin-left: 50%; }

p.caption {
  font-style: italic; }

p.credits {
  font-style: italic;
  font-size: smaller; }

p.label {
  white-space: nowrap; }

p.rubric {
  font-weight: bold;
  font-size: larger;
  color: maroon;
  text-align: center; }

p.topic-title {
  font-weight: bold; }

pre.address {
  margin-bottom: 0;
  margin-top: 0;
  font: inherit; }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em;
  margin-right: 2em; }

pre.code .ln {
  color: grey; }

/* line numbers */
pre.code, code {
  background-color: #eeeeee; }

pre.code .comment, code .comment {
  color: #5c6576; }

pre.code .keyword, code .keyword {
  color: #3B0D06;
  font-weight: bold; }

pre.code .literal.string, code .literal.string {
  color: #0c5404; }

pre.code .name.builtin, code .name.builtin {
  color: #352b84; }

pre.code .deleted, code .deleted {
  background-color: #DEB0A1; }

pre.code .inserted, code .inserted {
  background-color: #A3D289; }

span.classifier {
  font-style: oblique; }

span.classifier-delimiter {
  font-weight: bold; }

span.option {
  white-space: nowrap; }

span.problematic {
  color: #b30000; }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80%; }

span.DecNumber {
  color: #252dbe; }

span.BinNumber {
  color: #252dbe; }

span.HexNumber {
  color: #252dbe; }

span.OctNumber {
  color: #252dbe; }

span.FloatNumber {
  color: #252dbe; }

span.Identifier {
  color: #222; }

span.Keyword {
  font-weight: 600;
  color: #5e8f60; }

span.StringLit {
  color: #a4255b; }

span.LongStringLit {
  color: #a4255b; }

span.CharLit {
  color: #a4255b; }

span.EscapeSequence {
  color: black; }

span.Operator {
  color: black; }

span.Punctuation {
  color: black; }

span.Comment, span.LongComment {
  font-style: italic;
  font-weight: 400;
  color: #484a86; }

span.RegularExpression {
  color: darkviolet; }

span.TagStart {
  color: darkviolet; }

span.TagEnd {
  color: darkviolet; }

span.Key {
  color: #252dbe; }

span.Value {
  color: #252dbe; }

span.RawData {
  color: #a4255b; }

span.Assembler {
  color: #252dbe; }

span.Preprocessor {
  color: #252dbe; }

span.Directive {
  color: #252dbe; }

span.Command, span.Rule, span.Hyperlink, span.Label, span.Reference,
span.Other {
  color: black; }

/* Pop type, const, proc, and iterator defs in nim def blocks */
dt pre > span.Identifier, dt pre > span.Operator {
  color: #155da4;
  font-weight: 700; }

dt pre > span.Keyword ~ span.Identifier, dt pre > span.Identifier ~ span.Identifier,
dt pre > span.Operator ~ span.Identifier, dt pre > span.Other ~ span.Identifier {
  color: inherit;
  font-weight: inherit; }

/* Nim sprite for the footer (taken from main page favicon) */
.nim-sprite {
  display: inline-block;
  height: 16px;
  width: 16px;
  background-position: 0 0;
  background-size: 16px 16px;
  -webkit-filter: opacity(50%);
  background-repeat: no-repeat;
  background-image: url("data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA==");
  margin-bottom: -5px; }

span.pragmadots {
  /* Position: relative frees us up to make the dots
  look really nice without fucking up the layout and
  causing bulging in the parent container */
  position: relative;
  /* 1px down looks slightly nicer */
  top: 1px;
  padding: 2px;
  background-color: #e8e8e8;
  border-radius: 4px;
  margin: 0 2px;
  cursor: pointer;
  font-size: 0.8em;
}

span.pragmadots:hover {
  background-color: #DBDBDB;
}
span.pragmawrap {
  display: none;
}

span.attachedType {
  display: none;
  visibility: hidden;
}
</style>

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }
}
</script>

</head>
<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">nimqml</h1>
    <table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">Authors:</th><td><p>Filippo Cucchetto &lt;filippocucchetto@gmail.com&gt;</p>
<p>Will Szumski &lt;will@cowboycoders.org&gt;</p>
</td></tr>
<tr><th class="docinfo-name">Version:</th><td> 0.7.7</td></tr>
<tr><th class="docinfo-name">Date:</th><td> 2019/10/01</td></tr>
</tbody></table>
<h1 id="introduction">Introduction</h1><p>The NimQml module adds Qt Qml bindings to the Nim programming language allowing you to create new modern UI by mixing the Qml declarative syntax and the Nim imperative language.</p>
<p>You will need:</p>
<ul class="simple"><li>The DOtherSide C++ shared library</li>
<li>The NimQml Nim module</li>
</ul>
<p>This first component implements the glue code necessary for communicating with the Qt C++ library, the latter module wraps the libDOtherSide exported symbols in Nim</p>

<h1 id="building-the-cplusplus-dotherside-bindings">Building the C++ DOtherSide bindings</h1><p>At the time of writing the DOtherSide C++ library must be compiled and installed manually from source.</p>
<p>First clone the DOtherSide git repo</p>
<pre>git clone https://github.com/filcuc/DOtherSide</pre>
<p>than you can proceed with the common CMake build steps</p>
<pre>mkdir build
cd build
cmake ..
make
make install</pre>

<h1 id="installation-of-nimqml-module">Installation of NimQml module</h1><p>The installation is not mandatory, in fact you could try the built-in examples in the following way</p>
<pre>cd path/to/repo/nimqml
cd examples/helloworld
export LD_LIBRARY_PATH=path/to/libDOtherSide.so
nim c -r main</pre>
<p>Alternatively you can use the <tt class="docutils literal"><span class="pre">nimble</span></tt> package manager</p>
<pre>nimble install NimQml</pre>
<p>or</p>
<pre>cd to/build/dir/Nim/NimQml
nimble install</pre>

<h1 id="example-1colon-helloworld">Example 1: HelloWorld</h1><p>As usual lets start with an HelloWorld example. Most of the NimQml projects are made by one or more nim and qml files. Usually the .nim files contains your app logic and data layer. The qml files contain the presentation layer and expose the data in your nim files.</p>
<p><tt class="docutils literal"><span class="pre">examples/helloworld/main.nim</span></tt></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">NimQml</span>
<span class="Keyword">import</span> <span class="Identifier">macros</span>
<span class="Keyword">import</span> <span class="Identifier">typeinfo</span>

<span class="Keyword">proc</span> <span class="Identifier">mainProc</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">=</span>
  <span class="Keyword">var</span> <span class="Identifier">app</span> <span class="Operator">=</span> <span class="Identifier">newQApplication</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Keyword">defer</span><span class="Punctuation">:</span> <span class="Identifier">app</span><span class="Operator">.</span><span class="Identifier">delete</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

  <span class="Keyword">var</span> <span class="Identifier">engine</span> <span class="Operator">=</span> <span class="Identifier">newQQmlApplicationEngine</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Keyword">defer</span><span class="Punctuation">:</span> <span class="Identifier">engine</span><span class="Operator">.</span><span class="Identifier">delete</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

  <span class="Identifier">engine</span><span class="Operator">.</span><span class="Identifier">load</span><span class="Punctuation">(</span><span class="StringLit">&quot;main.qml&quot;</span><span class="Punctuation">)</span>
  <span class="Identifier">app</span><span class="Operator">.</span><span class="Identifier">exec</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

<span class="Keyword">when</span> <span class="Identifier">isMainModule</span><span class="Punctuation">:</span>
  <span class="Identifier">mainProc</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Identifier">GC_fullcollect</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
</pre><p><tt class="docutils literal"><span class="pre">examples/helloworld/main.qml</span></tt></p>
<pre class="listing">import QtQuick 2.2
import QtQuick.Controls 1.2
import QtQuick.Layouts 1.1
import QtQuick.Window 2.1

ApplicationWindow {
    width: 400
    height: 300
    title: &quot;Hello World&quot;
    Component.onCompleted: visible = true
}
</pre><p>The example shows the mandatory steps of each NimQml app</p>
<ol class="simple"><li>Create the <tt class="docutils literal"><span class="pre">QApplication</span></tt> for initializing the Qt runtime</li>
<li>Create the <tt class="docutils literal"><span class="pre">QQmlApplicationEngine</span></tt> and load your main .qml file</li>
<li>Call the <tt class="docutils literal"><span class="pre">exec</span></tt> proc of the QApplication instance for starting the Qt event loop</li>
</ol>

<h1 id="example-2colon-exposing-data-to-qml">Example 2: exposing data to Qml</h1><p>The previous example shown how to startup the Qt event loop to create an application with a window.</p>
<p>It's time to explore how to pass data to Qml but lets see the example code first:</p>
<p><tt class="docutils literal"><span class="pre">examples/simpledata/main.nim</span></tt></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">NimQml</span>
<span class="Keyword">import</span> <span class="Identifier">macros</span>
<span class="Keyword">import</span> <span class="Identifier">typeinfo</span>

<span class="Keyword">proc</span> <span class="Identifier">mainProc</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">=</span>
  <span class="Keyword">var</span> <span class="Identifier">app</span> <span class="Operator">=</span> <span class="Identifier">newQApplication</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Keyword">defer</span><span class="Punctuation">:</span> <span class="Identifier">app</span><span class="Operator">.</span><span class="Identifier">delete</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

  <span class="Keyword">var</span> <span class="Identifier">engine</span> <span class="Operator">=</span> <span class="Identifier">newQQmlApplicationEngine</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Keyword">defer</span><span class="Punctuation">:</span> <span class="Identifier">engine</span><span class="Operator">.</span><span class="Identifier">delete</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

  <span class="Keyword">var</span> <span class="Identifier">qVar1</span> <span class="Operator">=</span> <span class="Identifier">newQVariant</span><span class="Punctuation">(</span><span class="DecNumber">10</span><span class="Punctuation">)</span>
  <span class="Keyword">defer</span><span class="Punctuation">:</span> <span class="Identifier">qVar1</span><span class="Operator">.</span><span class="Identifier">delete</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

  <span class="Keyword">var</span> <span class="Identifier">qVar2</span> <span class="Operator">=</span> <span class="Identifier">newQVariant</span><span class="Punctuation">(</span><span class="StringLit">&quot;Hello World&quot;</span><span class="Punctuation">)</span>
  <span class="Keyword">defer</span><span class="Punctuation">:</span> <span class="Identifier">qVar2</span><span class="Operator">.</span><span class="Identifier">delete</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

  <span class="Keyword">var</span> <span class="Identifier">qVar3</span> <span class="Operator">=</span> <span class="Identifier">newQVariant</span><span class="Punctuation">(</span><span class="Identifier">false</span><span class="Punctuation">)</span>
  <span class="Keyword">defer</span><span class="Punctuation">:</span> <span class="Identifier">qVar3</span><span class="Operator">.</span><span class="Identifier">delete</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

  <span class="Keyword">var</span> <span class="Identifier">qVar4</span> <span class="Operator">=</span> <span class="Identifier">newQVariant</span><span class="Punctuation">(</span><span class="FloatNumber">3.5</span><span class="Operator">.</span><span class="Identifier">float</span><span class="Punctuation">)</span>
  <span class="Keyword">defer</span><span class="Punctuation">:</span> <span class="Identifier">qVar4</span><span class="Operator">.</span><span class="Identifier">delete</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

  <span class="Identifier">engine</span><span class="Operator">.</span><span class="Identifier">setRootContextProperty</span><span class="Punctuation">(</span><span class="StringLit">&quot;qVar1&quot;</span><span class="Punctuation">,</span> <span class="Identifier">qVar1</span><span class="Punctuation">)</span>
  <span class="Identifier">engine</span><span class="Operator">.</span><span class="Identifier">setRootContextProperty</span><span class="Punctuation">(</span><span class="StringLit">&quot;qVar2&quot;</span><span class="Punctuation">,</span> <span class="Identifier">qVar2</span><span class="Punctuation">)</span>
  <span class="Identifier">engine</span><span class="Operator">.</span><span class="Identifier">setRootContextProperty</span><span class="Punctuation">(</span><span class="StringLit">&quot;qVar3&quot;</span><span class="Punctuation">,</span> <span class="Identifier">qVar3</span><span class="Punctuation">)</span>
  <span class="Identifier">engine</span><span class="Operator">.</span><span class="Identifier">setRootContextProperty</span><span class="Punctuation">(</span><span class="StringLit">&quot;qVar4&quot;</span><span class="Punctuation">,</span> <span class="Identifier">qVar4</span><span class="Punctuation">)</span>
  <span class="Identifier">engine</span><span class="Operator">.</span><span class="Identifier">load</span><span class="Punctuation">(</span><span class="StringLit">&quot;main.qml&quot;</span><span class="Punctuation">)</span>
  <span class="Identifier">app</span><span class="Operator">.</span><span class="Identifier">exec</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

<span class="Keyword">when</span> <span class="Identifier">isMainModule</span><span class="Punctuation">:</span>
  <span class="Identifier">mainProc</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Identifier">GC_fullcollect</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
</pre><p><tt class="docutils literal"><span class="pre">examples/simpledata/main.qml</span></tt></p>
<pre class="listing">import QtQuick 2.8
import QtQuick.Controls 2.3
import QtQuick.Layouts 1.3

ApplicationWindow {
    width: 400
    height: 300
    title: &quot;SimpleData&quot;

    Component.onCompleted: visible = true

    ColumnLayout {
        anchors.fill: parent
        SpinBox { value: qVar1}
        TextField { text: qVar2}
        CheckBox { checked: qVar3}
        SpinBox { value: qVar4 }
    }
}
</pre><p>The example shows how to expose simple values to Qml:</p>
<ol class="simple"><li>Create a <tt class="docutils literal"><span class="pre">QVariant</span></tt> and set its value.</li>
<li>Set a property in the Qml root context with a given name.</li>
</ol>
<p>Once a property is set through the <tt class="docutils literal"><span class="pre">setContextProperty</span></tt> proc, it's available globally in all the Qml script loaded by the current engine (see the official Qt documentation for more details about the engine and context objects)</p>
<p>At the time of writing the QVariant class support the following types:</p>
<ul class="simple"><li>int</li>
<li>string</li>
<li>bool</li>
<li>float</li>
<li>QObject derived classes</li>
</ul>

<h1 id="example-3colon-exposing-complex-data-and-procedures-to-qml">Example 3: exposing complex data and procedures to Qml</h1><p>As seen by the second example, simple data is fine. However most applications need to expose complex data, functions and update the view when something changes in the data layer. This is achieved by creating an object that derives from QObject.</p>
<p>A QObject is made of :</p>
<ol class="simple"><li><tt class="docutils literal"><span class="pre">slots</span></tt>: functions that could be called from the qml engine and/or connected to Qt signals</li>
<li><tt class="docutils literal"><span class="pre">signals</span></tt>: functions for sending events and to which slots connect</li>
<li><tt class="docutils literal"><span class="pre">properties</span></tt>: properties allow the passing of data to the Qml view and make it aware of changes in the data layer</li>
</ol>
<p>A QObject <tt class="docutils literal"><span class="pre">property</span></tt> is made of three things:</p>
<ul class="simple"><li>a read slot: a method that returns the current value of the property</li>
<li>a write slot: a method that sets the value of the property</li>
<li>a notify signal: emitted when the current value of the property is changed</li>
</ul>
<p>We'll start by looking at the main.nim file</p>
<p><tt class="docutils literal"><span class="pre">examples/slotsandproperties/main.nim</span></tt></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">NimQml</span>
<span class="Keyword">import</span> <span class="Identifier">contact</span>

<span class="Keyword">proc</span> <span class="Identifier">mainProc</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">=</span>
  <span class="Keyword">var</span> <span class="Identifier">app</span> <span class="Operator">=</span> <span class="Identifier">newQApplication</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Keyword">defer</span><span class="Punctuation">:</span> <span class="Identifier">app</span><span class="Operator">.</span><span class="Identifier">delete</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

  <span class="Keyword">var</span> <span class="Identifier">contact</span> <span class="Operator">=</span> <span class="Identifier">newContact</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Keyword">defer</span><span class="Punctuation">:</span> <span class="Identifier">contact</span><span class="Operator">.</span><span class="Identifier">delete</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

  <span class="Keyword">var</span> <span class="Identifier">engine</span> <span class="Operator">=</span> <span class="Identifier">newQQmlApplicationEngine</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Keyword">defer</span><span class="Punctuation">:</span> <span class="Identifier">engine</span><span class="Operator">.</span><span class="Identifier">delete</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

  <span class="Keyword">var</span> <span class="Identifier">variant</span> <span class="Operator">=</span> <span class="Identifier">newQVariant</span><span class="Punctuation">(</span><span class="Identifier">contact</span><span class="Punctuation">)</span>
  <span class="Keyword">defer</span><span class="Punctuation">:</span> <span class="Identifier">variant</span><span class="Operator">.</span><span class="Identifier">delete</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

  <span class="Identifier">engine</span><span class="Operator">.</span><span class="Identifier">setRootContextProperty</span><span class="Punctuation">(</span><span class="StringLit">&quot;contact&quot;</span><span class="Punctuation">,</span> <span class="Identifier">variant</span><span class="Punctuation">)</span>
  <span class="Identifier">engine</span><span class="Operator">.</span><span class="Identifier">load</span><span class="Punctuation">(</span><span class="StringLit">&quot;main.qml&quot;</span><span class="Punctuation">)</span>
  <span class="Identifier">app</span><span class="Operator">.</span><span class="Identifier">exec</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

<span class="Keyword">when</span> <span class="Identifier">isMainModule</span><span class="Punctuation">:</span>
  <span class="Identifier">mainProc</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Identifier">GC_fullcollect</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
</pre><p>We can see:</p>
<ol class="simple"><li>The creation of a Contact object</li>
<li>The injection of the Contact object to the Qml root context using the <tt class="docutils literal"><span class="pre">setContextProperty</span></tt> as seen in the previous example</li>
</ol>
<p>The Qml file is as follows:</p>
<p><tt class="docutils literal"><span class="pre">examples/slotsandproperties/main.qml</span></tt></p>
<pre class="listing">import QtQuick 2.8
import QtQuick.Controls 2.3
import QtQuick.Layouts 1.3

ApplicationWindow {
    width: 400
    height: 300

    Component.onCompleted: visible = true

    ColumnLayout {
        anchors.fill: parent

        Label { text: &quot;Current name is:&quot; + contact.name }

        TextField { id: textField }

        Button {
            text: &quot;Change Name&quot;
            onClicked: contact.name = textField.text
        }
    }
}
</pre><p>The qml is made up of: a Label, a TextInput widget, and a button. The label displays the contact name - this automatically updates when the contact name changes.</p>
<p>When clicked, the button updates the contact name with the text from the TextInput widget.</p>
<p>So where's the magic?</p>
<p>The magic is in the Contact.nim file</p>
<p><tt class="docutils literal"><span class="pre">examples/slotsandproperties/contact.nim</span></tt></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">NimQml</span>

<span class="Identifier">QtObject</span><span class="Punctuation">:</span>
  <span class="Keyword">type</span> <span class="Identifier">Contact</span><span class="Operator">*</span> <span class="Operator">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <span class="Identifier">QObject</span>
    <span class="Identifier">m_name</span><span class="Punctuation">:</span> <span class="Identifier">string</span>

  <span class="Keyword">proc</span> <span class="Identifier">delete</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">Contact</span><span class="Punctuation">)</span> <span class="Operator">=</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">QObject</span><span class="Operator">.</span><span class="Identifier">delete</span>

  <span class="Keyword">proc</span> <span class="Identifier">setup</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">Contact</span><span class="Punctuation">)</span> <span class="Operator">=</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">QObject</span><span class="Operator">.</span><span class="Identifier">setup</span>

  <span class="Keyword">proc</span> <span class="Identifier">newContact</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">Contact</span> <span class="Operator">=</span>
    <span class="Identifier">new</span><span class="Punctuation">(</span><span class="Identifier">result</span><span class="Punctuation">,</span> <span class="Identifier">delete</span><span class="Punctuation">)</span>
    <span class="Identifier">result</span><span class="Operator">.</span><span class="Identifier">m_name</span> <span class="Operator">=</span> <span class="StringLit">&quot;InitialName&quot;</span>
    <span class="Identifier">result</span><span class="Operator">.</span><span class="Identifier">setup</span>

  <span class="Keyword">proc</span> <span class="Identifier">getName</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">Contact</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">string</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">slot</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span>
    <span class="Identifier">result</span> <span class="Operator">=</span> <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">m_name</span>

  <span class="Keyword">proc</span> <span class="Identifier">nameChanged</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">Contact</span><span class="Punctuation">,</span> <span class="Identifier">name</span><span class="Punctuation">:</span> <span class="Identifier">string</span><span class="Punctuation">)</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">signal</span><span class="Operator">.</span><span class="Punctuation">}</span>

  <span class="Keyword">proc</span> <span class="Identifier">setName</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">Contact</span><span class="Punctuation">,</span> <span class="Identifier">name</span><span class="Punctuation">:</span> <span class="Identifier">string</span><span class="Punctuation">)</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">slot</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span>
    <span class="Keyword">if</span> <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">m_name</span> <span class="Operator">==</span> <span class="Identifier">name</span><span class="Punctuation">:</span>
      <span class="Keyword">return</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">m_name</span> <span class="Operator">=</span> <span class="Identifier">name</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">nameChanged</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">)</span>

  <span class="Identifier">QtProperty</span><span class="Punctuation">[</span><span class="Identifier">string</span><span class="Punctuation">]</span> <span class="Identifier">name</span><span class="Punctuation">:</span>
    <span class="Identifier">read</span> <span class="Operator">=</span> <span class="Identifier">getName</span>
    <span class="Identifier">write</span> <span class="Operator">=</span> <span class="Identifier">setName</span>
    <span class="Identifier">notify</span> <span class="Operator">=</span> <span class="Identifier">nameChanged</span>
</pre><p>A Contact is a subtype derived from <tt class="docutils literal"><span class="pre">QObject</span></tt></p>
<p>Defining a <tt class="docutils literal"><span class="pre">QObject</span></tt> is done using the nim <tt class="docutils literal"><span class="pre">QtObject</span></tt> macro</p>
<pre class="listing"><span class="Identifier">QtObject</span><span class="Punctuation">:</span>
  <span class="Keyword">type</span> <span class="Identifier">Contact</span><span class="Operator">*</span> <span class="Operator">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <span class="Identifier">QObject</span>
  <span class="Identifier">m_name</span><span class="Punctuation">:</span> <span class="Identifier">string</span></pre><p>Inside the <tt class="docutils literal"><span class="pre">QtObject</span></tt> just define your subclass as your would normally do in Nim.</p>
<p>Since Nim doesn't support automatic invocation of base class constructors and destructors you need to call manually the base class <tt class="docutils literal"><span class="pre">setup</span></tt> and <tt class="docutils literal"><span class="pre">delete</span></tt> functions.</p>
<pre class="listing"><span class="Keyword">proc</span> <span class="Identifier">delete</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">Contact</span><span class="Punctuation">)</span> <span class="Operator">=</span>
  <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">QObject</span><span class="Operator">.</span><span class="Identifier">delete</span>

<span class="Keyword">proc</span> <span class="Identifier">setup</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">Contact</span><span class="Punctuation">)</span> <span class="Operator">=</span>
  <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">QObject</span><span class="Operator">.</span><span class="Identifier">setup</span></pre><p>Don't forget to call the <tt class="docutils literal"><span class="pre">setup</span></tt> function and <tt class="docutils literal"><span class="pre">delete</span></tt> in your exported constructor procedure</p>
<pre class="listing"><span class="Keyword">proc</span> <span class="Identifier">newContact</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">Contact</span> <span class="Operator">=</span>
  <span class="Identifier">new</span><span class="Punctuation">(</span><span class="Identifier">result</span><span class="Punctuation">,</span> <span class="Identifier">delete</span><span class="Punctuation">)</span>
  <span class="Identifier">result</span><span class="Operator">.</span><span class="Identifier">m_name</span> <span class="Operator">=</span> <span class="StringLit">&quot;InitialName&quot;</span>
  <span class="Identifier">result</span><span class="Operator">.</span><span class="Identifier">setup</span></pre><p>The creation of a property is done in the following way:</p>
<pre class="listing"><span class="Identifier">QtProperty</span><span class="Punctuation">[</span><span class="Identifier">string</span><span class="Punctuation">]</span> <span class="Identifier">name</span><span class="Punctuation">:</span>
  <span class="Identifier">read</span> <span class="Operator">=</span> <span class="Identifier">getName</span>
  <span class="Identifier">write</span> <span class="Operator">=</span> <span class="Identifier">setName</span>
  <span class="Identifier">notify</span> <span class="Operator">=</span> <span class="Identifier">nameChanged</span></pre><p>A <tt class="docutils literal"><span class="pre">QtProperty</span></tt> is defined by a:</p>
<ol class="simple"><li>type, in this case <tt class="docutils literal"><span class="pre">string</span></tt></li>
<li>name, in this case <tt class="docutils literal"><span class="pre">name</span></tt></li>
<li>read slot, in this case <tt class="docutils literal"><span class="pre">getName</span></tt></li>
<li>write slot, in this case <tt class="docutils literal"><span class="pre">setName</span></tt></li>
<li>notify signal, in this case <tt class="docutils literal"><span class="pre">nameChanged</span></tt></li>
</ol>
<p>Looking at the <tt class="docutils literal"><span class="pre">getName`, `setName</span></tt>, <tt class="docutils literal"><span class="pre">nameChanged</span></tt> procs, show  that slots and signals are nothing more than standard procedures annotated with <tt class="docutils literal"><span class="pre">{.slot.}</span></tt> and <tt class="docutils literal"><span class="pre">{.signal.}</span></tt></p>

<h1 id="example-4colon-contactapp">Example 4: ContactApp</h1><p>The last example tries to show you all the stuff presented in the previous chapters and gives you an introduction to how to expose lists to qml.</p>
<p>Qt models are a huge topic and explaining in detail how they work is out of scope. For further information please read the official Qt documentation.</p>
<p>The main file follows the basic logic of creating a qml engine and exposing a QObject derived object &quot;ApplicationLogic&quot; through a global &quot;logic&quot; property</p>
<p><tt class="docutils literal"><span class="pre">examples/contactapp/main.nim</span></tt></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">NimQml</span>
<span class="Keyword">import</span> <span class="Identifier">applicationlogic</span>

<span class="Keyword">proc</span> <span class="Identifier">mainProc</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">=</span>
  <span class="Keyword">let</span> <span class="Identifier">app</span> <span class="Operator">=</span> <span class="Identifier">newQApplication</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Keyword">defer</span><span class="Punctuation">:</span> <span class="Identifier">app</span><span class="Operator">.</span><span class="Identifier">delete</span>

  <span class="Keyword">let</span> <span class="Identifier">logic</span> <span class="Operator">=</span> <span class="Identifier">newApplicationLogic</span><span class="Punctuation">(</span><span class="Identifier">app</span><span class="Punctuation">)</span>
  <span class="Keyword">defer</span><span class="Punctuation">:</span> <span class="Identifier">logic</span><span class="Operator">.</span><span class="Identifier">delete</span>

  <span class="Keyword">let</span> <span class="Identifier">engine</span> <span class="Operator">=</span> <span class="Identifier">newQQmlApplicationEngine</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Keyword">defer</span><span class="Punctuation">:</span> <span class="Identifier">engine</span><span class="Operator">.</span><span class="Identifier">delete</span>

  <span class="Keyword">let</span> <span class="Identifier">logicVariant</span> <span class="Operator">=</span> <span class="Identifier">newQVariant</span><span class="Punctuation">(</span><span class="Identifier">logic</span><span class="Punctuation">)</span>
  <span class="Keyword">defer</span><span class="Punctuation">:</span> <span class="Identifier">logicVariant</span><span class="Operator">.</span><span class="Identifier">delete</span>

  <span class="Identifier">engine</span><span class="Operator">.</span><span class="Identifier">setRootContextProperty</span><span class="Punctuation">(</span><span class="StringLit">&quot;logic&quot;</span><span class="Punctuation">,</span> <span class="Identifier">logicVariant</span><span class="Punctuation">)</span>
  <span class="Identifier">engine</span><span class="Operator">.</span><span class="Identifier">load</span><span class="Punctuation">(</span><span class="StringLit">&quot;main.qml&quot;</span><span class="Punctuation">)</span>
  <span class="Identifier">app</span><span class="Operator">.</span><span class="Identifier">exec</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

<span class="Keyword">when</span> <span class="Identifier">isMainModule</span><span class="Punctuation">:</span>
  <span class="Identifier">mainProc</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Identifier">GC_fullcollect</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
</pre><p>The qml file shows a simple app with a central tableview</p>
<p><tt class="docutils literal"><span class="pre">examples/contactapp/main.qml</span></tt></p>
<pre class="listing">import QtQuick 2.3
import QtQuick.Controls 1.3
import QtQuick.Controls 2.3
import QtQuick.Layouts 1.3

ApplicationWindow {
    width: 500
    height: 300
    title: &quot;ContactApp&quot;
    visible: true

    menuBar: MenuBar {
        Menu {
            title: &quot;&amp;File&quot;
            MenuItem { text: &quot;&amp;Load&quot;; onTriggered: logic.onLoadTriggered() }
            MenuItem { text: &quot;&amp;Save&quot;; onTriggered: logic.onSaveTriggered() }
            MenuItem { text: &quot;&amp;Exit&quot;; onTriggered: logic.onExitTriggered() }
        }
    }

    ColumnLayout {
        anchors.fill: parent

        Component {
            id: tableTextDelegate
            Label {
                id: tableTextDelegateInstance
                property var styleData: undefined
                states: State {
                    when: styleData !== undefined
                    PropertyChanges {
                        target: tableTextDelegateInstance;
                        text: styleData.value;
                        color: styleData.textColor
                    }
                }
            }
        }

        Component {
            id: tableButtonDelegate
            Button {
                id: tableButtonDelegateInstance
                property var styleData: undefined
                text: &quot;Delete&quot;
                onClicked: logic.contactList.del(styleData.row)
            }
        }

        Component {
            id: tableItemDelegate
            Loader {
                id: tableItemDelegateInstance
                sourceComponent: {
                    if (styleData.column === 0 || styleData.column === 1)
                        return tableTextDelegate
                    else if (styleData.column === 2)
                        return tableButtonDelegate
                    else
                        return tableTextDelegate
                }
                Binding {
                    target: tableItemDelegateInstance.item
                    property: &quot;styleData&quot;
                    value: styleData
                }
            }
        }

        TableView {
            model: logic.contactList
            Layout.fillWidth: true
            Layout.fillHeight: true
            TableViewColumn { role: &quot;firstName&quot;; title: &quot;FirstName&quot;; width: 200 }
            TableViewColumn { role: &quot;surname&quot;; title: &quot;LastName&quot;; width: 200}
            TableViewColumn { width: 100; }
            itemDelegate: tableItemDelegate
        }

        RowLayout {
            Label { text: &quot;FirstName&quot; }
            TextField { id: nameTextField; Layout.fillWidth: true; text: &quot;&quot; }
            Label { text: &quot;LastName&quot; }
            TextField { id: surnameTextField; Layout.fillWidth: true; text: &quot;&quot; }
            Button {
                text: &quot;Add&quot;
                onClicked: logic.contactList.add(nameTextField.text, surnameTextField.text)
                enabled: nameTextField.text !== &quot;&quot; &amp;&amp; surnameTextField.text !== &quot;&quot;
            }
        }
    }
}
</pre><p>The important things to notice are:</p>
<ol class="simple"><li>The menubar load, save and exit items handlers call the logic load, save and exit slots</li>
<li>The TableView model is retrieved by the logic.contactList property</li>
<li>The delete and add buttons call the del and add slots of the logic.contactList model</li>
</ol>
<p>The ApplicationLogic object is as follows:</p>
<p><tt class="docutils literal"><span class="pre">examples/contactapp/applicationlogic.nim</span></tt></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">NimQml</span><span class="Punctuation">,</span> <span class="Identifier">contactlist</span>

<span class="Identifier">QtObject</span><span class="Punctuation">:</span>
  <span class="Keyword">type</span> <span class="Identifier">ApplicationLogic</span><span class="Operator">*</span> <span class="Operator">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <span class="Identifier">QObject</span>
    <span class="Identifier">contactList</span><span class="Punctuation">:</span> <span class="Identifier">ContactList</span>
    <span class="Identifier">app</span><span class="Punctuation">:</span> <span class="Identifier">QApplication</span>

  <span class="Keyword">proc</span> <span class="Identifier">delete</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">ApplicationLogic</span><span class="Punctuation">)</span> <span class="Operator">=</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">QObject</span><span class="Operator">.</span><span class="Identifier">delete</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">contactList</span><span class="Operator">.</span><span class="Identifier">delete</span>

  <span class="Keyword">proc</span> <span class="Identifier">setup</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">ApplicationLogic</span><span class="Punctuation">)</span> <span class="Operator">=</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">QObject</span><span class="Operator">.</span><span class="Identifier">setup</span>

  <span class="Keyword">proc</span> <span class="Identifier">newApplicationLogic</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Identifier">app</span><span class="Punctuation">:</span> <span class="Identifier">QApplication</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">ApplicationLogic</span> <span class="Operator">=</span>
    <span class="Identifier">new</span><span class="Punctuation">(</span><span class="Identifier">result</span><span class="Punctuation">)</span>
    <span class="Identifier">result</span><span class="Operator">.</span><span class="Identifier">contactList</span> <span class="Operator">=</span> <span class="Identifier">newContactList</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
    <span class="Identifier">result</span><span class="Operator">.</span><span class="Identifier">app</span> <span class="Operator">=</span> <span class="Identifier">app</span>
    <span class="Identifier">result</span><span class="Operator">.</span><span class="Identifier">setup</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

  <span class="Keyword">proc</span> <span class="Identifier">getContactList</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">ApplicationLogic</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">QVariant</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">slot</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span>
    <span class="Keyword">return</span> <span class="Identifier">newQVariant</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">contactList</span><span class="Punctuation">)</span>

  <span class="Keyword">proc</span> <span class="Identifier">onLoadTriggered</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">ApplicationLogic</span><span class="Punctuation">)</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">slot</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span>
    <span class="Identifier">echo</span> <span class="StringLit">&quot;Load Triggered&quot;</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">contactList</span><span class="Operator">.</span><span class="Identifier">add</span><span class="Punctuation">(</span><span class="StringLit">&quot;John&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;Doo&quot;</span><span class="Punctuation">)</span>

  <span class="Keyword">proc</span> <span class="Identifier">onSaveTriggered</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">ApplicationLogic</span><span class="Punctuation">)</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">slot</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span>
    <span class="Identifier">echo</span> <span class="StringLit">&quot;Save Triggered&quot;</span>

  <span class="Keyword">proc</span> <span class="Identifier">onExitTriggered</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">ApplicationLogic</span><span class="Punctuation">)</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">slot</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">app</span><span class="Operator">.</span><span class="Identifier">quit</span>

  <span class="Identifier">QtProperty</span><span class="Punctuation">[</span><span class="Identifier">QVariant</span><span class="Punctuation">]</span> <span class="Identifier">contactList</span><span class="Punctuation">:</span>
    <span class="Identifier">read</span> <span class="Operator">=</span> <span class="Identifier">getContactList</span>
</pre><p>The ApplicationLogic object,</p>
<ol class="simple"><li>expose some slots for handling the qml menubar triggered signals</li>
<li>expose a contactList property that return a QAbstractListModel derived object that manage the list of contacts</li>
</ol>
<p>The ContactList object is as follows:</p>
<p><tt class="docutils literal"><span class="pre">examples/contactapp/contactlist.nim</span></tt></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">NimQml</span><span class="Punctuation">,</span> <span class="Identifier">contact</span><span class="Punctuation">,</span> <span class="Identifier">Tables</span>

<span class="Keyword">type</span>
  <span class="Identifier">ContactRoles</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">pure</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span> <span class="Keyword">enum</span>
    <span class="Identifier">FirstName</span> <span class="Operator">=</span> <span class="Identifier">UserRole</span> <span class="Operator">+</span> <span class="DecNumber">1</span>
    <span class="Identifier">Surname</span> <span class="Operator">=</span> <span class="Identifier">UserRole</span> <span class="Operator">+</span> <span class="DecNumber">2</span>

<span class="Identifier">QtObject</span><span class="Punctuation">:</span>
  <span class="Keyword">type</span>
    <span class="Identifier">ContactList</span><span class="Operator">*</span> <span class="Operator">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <span class="Identifier">QAbstractListModel</span>
      <span class="Identifier">contacts</span><span class="Operator">*:</span> <span class="Identifier">seq</span><span class="Punctuation">[</span><span class="Identifier">Contact</span><span class="Punctuation">]</span>

  <span class="Keyword">proc</span> <span class="Identifier">delete</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">ContactList</span><span class="Punctuation">)</span> <span class="Operator">=</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">QAbstractListModel</span><span class="Operator">.</span><span class="Identifier">delete</span>
    <span class="Keyword">for</span> <span class="Identifier">contact</span> <span class="Keyword">in</span> <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">contacts</span><span class="Punctuation">:</span>
      <span class="Identifier">contact</span><span class="Operator">.</span><span class="Identifier">delete</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">contacts</span> <span class="Operator">=</span> <span class="Operator">@</span><span class="Punctuation">[</span><span class="Punctuation">]</span>

  <span class="Keyword">proc</span> <span class="Identifier">setup</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">ContactList</span><span class="Punctuation">)</span> <span class="Operator">=</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">QAbstractListModel</span><span class="Operator">.</span><span class="Identifier">setup</span>

  <span class="Keyword">proc</span> <span class="Identifier">newContactList</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">ContactList</span> <span class="Operator">=</span>
    <span class="Identifier">new</span><span class="Punctuation">(</span><span class="Identifier">result</span><span class="Punctuation">,</span> <span class="Identifier">delete</span><span class="Punctuation">)</span>
    <span class="Identifier">result</span><span class="Operator">.</span><span class="Identifier">contacts</span> <span class="Operator">=</span> <span class="Operator">@</span><span class="Punctuation">[</span><span class="Punctuation">]</span>
    <span class="Identifier">result</span><span class="Operator">.</span><span class="Identifier">setup</span>

  <span class="Keyword">method</span> <span class="Identifier">rowCount</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">ContactList</span><span class="Punctuation">,</span> <span class="Identifier">index</span><span class="Punctuation">:</span> <span class="Identifier">QModelIndex</span> <span class="Operator">=</span> <span class="Keyword">nil</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">int</span> <span class="Operator">=</span>
    <span class="Keyword">return</span> <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">contacts</span><span class="Operator">.</span><span class="Identifier">len</span>

  <span class="Keyword">method</span> <span class="Identifier">data</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">ContactList</span><span class="Punctuation">,</span> <span class="Identifier">index</span><span class="Punctuation">:</span> <span class="Identifier">QModelIndex</span><span class="Punctuation">,</span> <span class="Identifier">role</span><span class="Punctuation">:</span> <span class="Identifier">int</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">QVariant</span> <span class="Operator">=</span>
    <span class="Keyword">if</span> <span class="Keyword">not</span> <span class="Identifier">index</span><span class="Operator">.</span><span class="Identifier">isValid</span><span class="Punctuation">:</span>
      <span class="Keyword">return</span>
    <span class="Keyword">if</span> <span class="Identifier">index</span><span class="Operator">.</span><span class="Identifier">row</span> <span class="Operator">&lt;</span> <span class="DecNumber">0</span> <span class="Keyword">or</span> <span class="Identifier">index</span><span class="Operator">.</span><span class="Identifier">row</span> <span class="Operator">&gt;=</span> <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">contacts</span><span class="Operator">.</span><span class="Identifier">len</span><span class="Punctuation">:</span>
      <span class="Keyword">return</span>
    <span class="Keyword">let</span> <span class="Identifier">contact</span> <span class="Operator">=</span> <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">contacts</span><span class="Punctuation">[</span><span class="Identifier">index</span><span class="Operator">.</span><span class="Identifier">row</span><span class="Punctuation">]</span>
    <span class="Keyword">let</span> <span class="Identifier">contactRole</span> <span class="Operator">=</span> <span class="Identifier">role</span><span class="Operator">.</span><span class="Identifier">ContactRoles</span>
    <span class="Keyword">case</span> <span class="Identifier">contactRole</span><span class="Punctuation">:</span>
    <span class="Keyword">of</span> <span class="Identifier">ContactRoles</span><span class="Operator">.</span><span class="Identifier">FirstName</span><span class="Punctuation">:</span> <span class="Identifier">result</span> <span class="Operator">=</span> <span class="Identifier">newQVariant</span><span class="Punctuation">(</span><span class="Identifier">contact</span><span class="Operator">.</span><span class="Identifier">firstName</span><span class="Punctuation">)</span>
    <span class="Keyword">of</span> <span class="Identifier">ContactRoles</span><span class="Operator">.</span><span class="Identifier">Surname</span><span class="Punctuation">:</span> <span class="Identifier">result</span> <span class="Operator">=</span> <span class="Identifier">newQVariant</span><span class="Punctuation">(</span><span class="Identifier">contact</span><span class="Operator">.</span><span class="Identifier">surname</span><span class="Punctuation">)</span>

  <span class="Keyword">method</span> <span class="Identifier">roleNames</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">ContactList</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">Table</span><span class="Punctuation">[</span><span class="Identifier">int</span><span class="Punctuation">,</span> <span class="Identifier">string</span><span class="Punctuation">]</span> <span class="Operator">=</span>
    <span class="Punctuation">{</span> <span class="Identifier">ContactRoles</span><span class="Operator">.</span><span class="Identifier">FirstName</span><span class="Operator">.</span><span class="Identifier">int</span><span class="Punctuation">:</span><span class="StringLit">&quot;firstName&quot;</span><span class="Punctuation">,</span>
      <span class="Identifier">ContactRoles</span><span class="Operator">.</span><span class="Identifier">Surname</span><span class="Operator">.</span><span class="Identifier">int</span><span class="Punctuation">:</span><span class="StringLit">&quot;surname&quot;</span><span class="Punctuation">}</span><span class="Operator">.</span><span class="Identifier">toTable</span>

  <span class="Keyword">proc</span> <span class="Identifier">add</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">ContactList</span><span class="Punctuation">,</span> <span class="Identifier">name</span><span class="Punctuation">:</span> <span class="Identifier">string</span><span class="Punctuation">,</span> <span class="Identifier">surname</span><span class="Punctuation">:</span> <span class="Identifier">string</span><span class="Punctuation">)</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">slot</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span>
    <span class="Keyword">let</span> <span class="Identifier">contact</span> <span class="Operator">=</span> <span class="Identifier">newContact</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
    <span class="Identifier">contact</span><span class="Operator">.</span><span class="Identifier">firstName</span> <span class="Operator">=</span> <span class="Identifier">name</span>
    <span class="Identifier">contact</span><span class="Operator">.</span><span class="Identifier">surname</span> <span class="Operator">=</span> <span class="Identifier">surname</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">beginInsertRows</span><span class="Punctuation">(</span><span class="Identifier">newQModelIndex</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">contacts</span><span class="Operator">.</span><span class="Identifier">len</span><span class="Punctuation">,</span> <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">contacts</span><span class="Operator">.</span><span class="Identifier">len</span><span class="Punctuation">)</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">contacts</span><span class="Operator">.</span><span class="Identifier">add</span><span class="Punctuation">(</span><span class="Identifier">contact</span><span class="Punctuation">)</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">endInsertRows</span><span class="Punctuation">(</span><span class="Punctuation">)</span>

  <span class="Keyword">proc</span> <span class="Identifier">del</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Identifier">self</span><span class="Punctuation">:</span> <span class="Identifier">ContactList</span><span class="Punctuation">,</span> <span class="Identifier">pos</span><span class="Punctuation">:</span> <span class="Identifier">int</span><span class="Punctuation">)</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">slot</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span>
    <span class="Keyword">if</span> <span class="Identifier">pos</span> <span class="Operator">&lt;</span> <span class="DecNumber">0</span> <span class="Keyword">or</span> <span class="Identifier">pos</span> <span class="Operator">&gt;=</span> <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">contacts</span><span class="Operator">.</span><span class="Identifier">len</span><span class="Punctuation">:</span>
      <span class="Keyword">return</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">beginRemoveRows</span><span class="Punctuation">(</span><span class="Identifier">newQModelIndex</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">pos</span><span class="Punctuation">,</span> <span class="Identifier">pos</span><span class="Punctuation">)</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">contacts</span><span class="Operator">.</span><span class="Identifier">del</span><span class="Punctuation">(</span><span class="Identifier">pos</span><span class="Punctuation">)</span>
    <span class="Identifier">self</span><span class="Operator">.</span><span class="Identifier">endRemoveRows</span>
</pre><p>The ContactList object:</p>
<ol class="simple"><li>overrides the <tt class="docutils literal"><span class="pre">rowCount</span></tt> method for returning the number of rows stored in the model</li>
<li>overrides the <tt class="docutils literal"><span class="pre">data</span></tt> method for returning the value for the exported roles</li>
<li>overrides the <tt class="docutils literal"><span class="pre">roleNames</span></tt> method for returning the names of the roles of the model. This name are then available in the qml item delegates</li>
<li>defines two slots <tt class="docutils literal"><span class="pre">add</span></tt> and <tt class="docutils literal"><span class="pre">del</span></tt> that add or delete a Contact. During this operations the model execute the <tt class="docutils literal"><span class="pre">beginInsertRows</span></tt> and <tt class="docutils literal"><span class="pre">beginRemoveRows</span></tt> for notifing the view of an upcoming change. Once the add or delete operations are done the model execute the <tt class="docutils literal"><span class="pre">endInsertRows</span></tt> and <tt class="docutils literal"><span class="pre">endRemoveRows</span></tt>.</li>
</ol>



    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small>Made with Nim. Generated: 2019-10-01 21:56:49 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
